function kjs(){this.guiObjects=[];this.urlParams=[];this.cacheKeys=[]}$(window).on("popstate",function(b){if(window.history.state!=null){if(window.history.state.info!="./."){var a=window.history.state.info;kjs.get_view(a)}}});kjs.error=function(b,a){alert("Error: "+b+" - "+a)};kjs.set_style=function(a){if(a=="bootstrap"){var b={rel:"stylesheet",integrity:"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO",crossorigin:"anonymous",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"};$.getScript("https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js")}else{if(a=="fontawesome"){var b={rel:"stylesheet",integrity:"sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU",crossorigin:"anonymous",href:"https://use.fontawesome.com/releases/v5.3.1/css/all.css"}}else{var b={rel:"stylesheet",href:a}}}$("<link/>",b).appendTo("head")};kjs.get_url_params=function(d){if(d.indexOf("#/")>0){d=d.split("#/").pop();var b=d.split("/");var a=[];for(var c=0;c<b.length;c++){a.push(b[c])}return a}else{window.history.pushState({info:"./."},"../.","./.")}};kjs.replace_all=function(c,b,a){return c.replace(new RegExp(b,"g"),a)};kjs.set_compdir=function(a,b){if(b.slice(-1)=="/"||b.slice(-1)=="\\"){b=b.slice(0,-1)}return kjs.replace_all(a,"#COMPDIR#",b)};kjs.locate_file=function(b,c,a){if(!a){var a=0}$.ajax({url:b[a],converters:{"text script":function(d){return d}},success:function(d){var e=(b[a].split("/"));e.pop();e=e.join("/");correctDir=kjs.set_compdir(d,e);c([b[a],correctDir])},error:function(){if(a+1<b.length){kjs.locate_file(b,c,a+1)}else{kjs.error("e.0001.e","Provided URLs not found ("+b[a]+"...).")}}})};kjs.exists=function(a){if(typeof a!=="undefined"&&a!=null&&a.length>0){return true}else{return false}};kjs.install=function(e,a){if(e=="view"){$("body").append(a.content);var b=a.name;if(!kjs.exists(window.history.state.info)||window.history.state.info!=b){window.history.pushState({info:b},b,"#/"+b)}}else{if(e=="components"){var f=a.sort(function(h,g){h=h.id;g=g.id;if(h<g){return -1}if(h>g){return 1}return 0});var c=0;if(kjs.exists(kjs.guiObjects)){if(f.length>kjs.guiObjects.length){c=f.length}else{if(f.length<kjs.guiObjects.length){c=kjs.guiObjects.length}else{if(f.length==kjs.guiObjects.length){c=kjs.guiObjects.length}}}}else{kjs.guiObjects=[];c=f.length}var d=0;while(d<c){if(kjs.guiObjects[d]!=null&&kjs.guiObjects[d]["name"]!=0&&d<f.length){kjs.guiObjects[d]["name"]=f[d]["name"];kjs.guiObjects[d]["content"]=f[d]["content"]}else{if(d>=f.length){kjs.guiObjects.splice(d,1)}else{kjs.guiObjects.push(f[d])}}d++}for(var d=0;d<c;d++){if(kjs.guiObjects[d]){if($("#e_view_"+kjs.guiObjects[d]["id"]).length){$("#e_view_"+kjs.guiObjects[d]["id"]).attr("component",kjs.guiObjects[d]["name"]).html(kjs.guiObjects[d]["content"])}else{$("body").append('<div id="e_view_'+kjs.guiObjects[d]["id"]+'" component="'+kjs.guiObjects[d]["name"]+'">'+kjs.guiObjects[d]["content"]+"</div>")}}else{$("#e_view_"+d).remove()}}}}};kjs.get_once=function(b,a){if(!kjs.exists(kjs.cacheKeys)){kjs.cacheKeys=[]}if(kjs.cacheKeys.indexOf(b,this.length-b.length)==-1){kjs.cacheKeys.push(b);a()}};kjs.get_view=function(a,c){var b=["app/view/"+a+"/"+a+".min.js","app/view/"+a+"/"+a+".html","app/view/"+a+"/"+a+".js",];kjs.get_file(b,function(d){if(typeof c==="function"){c("view",{name:a,content:d})}else{if(c!=false){kjs.install("view",{name:a,content:d})}else{return d}}})};kjs.get_components=function(b,e){var c=[];var d=1;for(var a=0;a<b.length;a++){kjs.get_component(b[a][1],a,b[a][0],function(f){if(typeof f!="undefined"){c.push(f);if(d>=b.length){if(typeof e==="function"){e("components",c)}else{if(e!=false){kjs.install("components",c)}else{return c}}}d++}})}};kjs.get_component=function(e,d,g,h){var a=e;var i=e+"/"+e;if(typeof g==="string"&&g.length){i=g+"/"+i;var a=g+"."+e}var f=["app/component/"+i+".html","app/component/"+i+".min.js","app/component/"+i+".js"];var b;if(kjs.exists(kjs.guiObjects)){kjs.guiObjects.filter(function(j){if(j.name==a){b=j}})}if(b){var c=$("#e_view_"+b.id).html();h({id:d,name:b.name,content:c})}else{kjs.get_file(f,function(j){h({id:d,name:a,content:j})})}};kjs.get_file=function(a,b){kjs.locate_file(a,function(d,c){if(d[0]){if(d[0].indexOf(".js",this.length-".js".length)!==-1){content='<script type="text/javascript">'+d[1]+"<\/script>"}else{content=d[1]}b(content)}})};kjs.urlParams=kjs.get_url_params(window.location.href);$.getScript("app/start.min.js").fail(function(){$.getScript("app/start.js").fail(function(){kjs.error("e.0002.e",arguments[2].toString())})});